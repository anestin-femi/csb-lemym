{"version":3,"sources":["stores/shop.js","components/Header.js","pages/Product.js","pages/Index.js","pages/Cart.js","App.js","index.js"],"names":["Factory","createContext","Wrap","children","useState","states","user","cart","products","id","name","alt","price","image","Provider","value","Header","stores","useContext","items","to","length","ProductItem","props","setItems","className","onClick","args","data","push","handleClick","src","Product","map","product","Index","CartItem","item","count","total","index","cartdata","i","cartitems","splice","handleDecrease","Cart","setData","useEffect","d","_item","info","find","x","e","App","element","path","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.aa0cb3e0.chunk.js","sourcesContent":["import React, { createContext, useState } from \"react\";\r\n\r\nexport const Factory = createContext();\r\n\r\nfunction Wrap({ children }) {\r\n  let [items, setItems] = useState([]);\r\n  let states = {\r\n    user: {},\r\n    cart: [items, setItems],\r\n    products: [\r\n      {\r\n        id: 1,\r\n        name: \"Bag\",\r\n        alt: \"bag\",\r\n        price: 89,\r\n        image: \"https://m.media-amazon.com/images/I/91snb7T4oeS._AC_UL320_.jpg\"\r\n      },\r\n      {\r\n        id: 2,\r\n        name: \"Candy\",\r\n        alt: \"candy\",\r\n        price: 20,\r\n        image: \"https://m.media-amazon.com/images/I/71S5KGhEo9L._AC_UL320_.jpg\"\r\n      },\r\n      {\r\n        id: 3,\r\n        name: \"Short\",\r\n        alt: \"short\",\r\n        price: 85,\r\n        image: \"https://m.media-amazon.com/images/I/61jOhhXERrL._AC_SY200_.jpg\"\r\n      }\r\n    ]\r\n  };\r\n  return <Factory.Provider value={states}>{children}</Factory.Provider>;\r\n}\r\n\r\nexport default Wrap;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Factory } from \"../stores/shop\";\r\n\r\nfunction Header() {\r\n  let stores = useContext(Factory);\r\n  let [items, setItems] = stores.cart;\r\n  return (\r\n    <header>\r\n      <nav>\r\n        <ul>\r\n          <li>\r\n            <Link to=\"/\">Index</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/products\">Product</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/carts\">Cart</Link>\r\n          </li>\r\n          <li>\r\n            <span>Count {items.length}</span>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState, useContext } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { Factory } from \"../stores/shop\";\r\n\r\nfunction ProductItem(props) {\r\n  let stores = useContext(Factory);\r\n  let [items, setItems] = stores.cart;\r\n  let handleClick = (args) => {\r\n    let data = [...items];\r\n\r\n    data.push({\r\n      id: args.id,\r\n      image: args.image,\r\n      name: args.name,\r\n      price: args.price\r\n    });\r\n    setItems(data);\r\n  };\r\n  return (\r\n    <div className=\"product\" onClick={() => handleClick(props)}>\r\n      <div>\r\n        <img src={props.image} alt={props.alt} />\r\n      </div>\r\n      <div>{props.name}</div>\r\n      <div>{props.price}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Product() {\r\n  let [products, setProducts] = useState([\r\n    {\r\n      id: 1,\r\n      name: \"Bag\",\r\n      alt: \"bag\",\r\n      price: 89,\r\n      image: \"https://m.media-amazon.com/images/I/91snb7T4oeS._AC_UL320_.jpg\"\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Candy\",\r\n      alt: \"candy\",\r\n      price: 20,\r\n      image: \"https://m.media-amazon.com/images/I/71S5KGhEo9L._AC_UL320_.jpg\"\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Short\",\r\n      alt: \"short\",\r\n      price: 85,\r\n      image: \"https://m.media-amazon.com/images/I/61jOhhXERrL._AC_SY200_.jpg\"\r\n    }\r\n  ]);\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"flex\">\r\n        {products.map((product) => (\r\n          <ProductItem\r\n            key={product.id}\r\n            id={product.id}\r\n            name={product.name}\r\n            alt={product.alt}\r\n            image={product.image}\r\n            price={product.price}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport Header from \"../components/Header\";\r\n\r\nfunction Index() {\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"flex\">\r\n        <div className=\"product\">\r\n          <div>This is the index page</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Index;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { Factory } from \"../stores/shop\";\r\n\r\nfunction CartItem(props) {\r\n  let handleIncrease = (item) => {};\r\n  let handleDecrease = (item) => {\r\n    let index = -1;\r\n    let cartdata = [];\r\n\r\n    for (let i = 0; i < props.cartitems.length; i++) {\r\n      let e = props.cartitems[i];\r\n      if (e.id === item.id) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (index !== -1) {\r\n      cartdata = [...props.cartitems];\r\n      cartdata.splice(index, 1);\r\n      props.setItems(cartdata);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <img src={props.item.image} alt=\"car\" />\r\n      </div>\r\n      <div>\r\n        <div>{props.item.name}</div>\r\n        <div>\r\n          {props.item.count} x ${props.item.price} = ${props.item.total}\r\n        </div>\r\n\r\n        <div>\r\n          <button onClick={() => handleIncrease(props.item)}>+</button>\r\n          <button onClick={() => handleDecrease(props.item)}>-</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Cart() {\r\n  let stores = useContext(Factory);\r\n  let [items, setItems] = stores.cart;\r\n  let [data, setData] = useState([]);\r\n\r\n  useEffect(\r\n    function () {\r\n      let d = [];\r\n      for (let i = 0; i < items.length; i++) {\r\n        let item = items[i];\r\n        let _item;\r\n        let info = d.find((x) => x.id === item.id);\r\n\r\n        if (!info) {\r\n          _item = { ...item };\r\n          _item.count = 1;\r\n          _item.total = 1 * item.price;\r\n          d.push(_item);\r\n        } else {\r\n          _item = info;\r\n          _item.count = info.count + 1;\r\n          _item.total = _item.count * item.price;\r\n        }\r\n      }\r\n      setData(d);\r\n    },\r\n    [items]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"flex\">\r\n        {data.map((e) => (\r\n          <CartItem key={e.id} item={e} cartitems={items} setItems={setItems} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import \"./styles.css\";\nimport Product from \"./pages/Product\";\nimport Index from \"./pages/Index\";\nimport Cart from \"./pages/Cart\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport Wrap from \"./stores/shop\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Wrap>\n        <BrowserRouter>\n          <Routes>\n            <Route element={<Index />} path=\"/\" />\n            <Route element={<Product />} path=\"/products\" />\n            <Route element={<Cart />} path=\"/carts\" />\n          </Routes>\n        </BrowserRouter>\n      </Wrap>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}